{"version":3,"sources":["components/Input.js","components/Button.js","Form.js","Table.js","services/persons.js","Notification.js","useWindowDimensions.js","Background.js","App.js","index.js"],"names":["Input","styled","input","attrs","props","type","size","Button","button","secondary","Form","handleSubmit","handleNewNameChange","handleNewNumberChange","newName","newNumber","onSubmit","e","onChange","value","placeholder","Wrapper","div","TableWrapper","table","TableCell","td","TableHead","th","Person","name","number","handleDelete","onClick","preventDefault","Table","persons","map","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","useWindowDimension","useState","window","innerWidth","innerHeight","dimension","setDimension","useEffect","debouncedResizeHandler","fn","ms","timer","_","clearTimeout","setTimeout","apply","arguments","debounce","addEventListener","removeEventListener","Image","url","Background","Heading","h2","App","setPersons","windowWidth","windowHeight","setNewName","setNewNumber","search","setNewSearch","errorMessage","setErrorMessage","backgroundImage","setBackgroundImage","personService","people","min","Math","ceil","max","floor","seed","random","getRandomImage","setNotification","peopleToShow","filter","person","toLocaleLowerCase","includes","target","handleNewSearch","match","find","p","confirm","updatedPerson","returnedPerson","catch","error","updatePerson","concat","length","personToBeDeleted","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4e0cd6bb.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst Input = styled.input.attrs((props) => ({\n  type: \"text\",\n  size: props.size || \"1em\",\n}))`\n  width: 100%;\n  border: 1px solid #fff;\n  background: transparent;\n  padding: 12px 20px;\n  font-size: 17px;\n  color: #f7f7f7;\n  box-sizing: border-box;\n  margin-bottom: 1rem;\n`;\n\nexport default Input;\n","import styled from \"styled-components\";\n\nconst Button = styled.button`\n  padding: 12px 18px;\n  box-sizing: border-box;\n  background: ${(props) => (props.secondary ? \"#333\" : \"#00ff93\")};\n  color: ${(props) => (props.secondary ? \"#00ff93\" : \"#333\")};\n  font-size: 17px;\n  border: 1px solid #00ff93;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    background: ${(props) => (props.secondary ? \"#00ff93\" : \"#333\")};\n    color: ${(props) => (props.secondary ? \"#333\" : \"#00ff93\")};\n  }\n`;\n\nexport default Button;\n","import React, { useState } from \"react\";\nimport Input from \"./components/Input\";\nimport Button from \"./components/Button\";\n\nconst Form = ({\n  handleSubmit,\n  handleNewNameChange,\n  handleNewNumberChange,\n  newName,\n  newNumber,\n}) => (\n  <form onSubmit={(e) => handleSubmit(e)}>\n    <div>\n      <Input\n        onChange={(e) => handleNewNameChange(e)}\n        value={newName}\n        placeholder=\"Name\"\n      />\n    </div>\n    <div>\n      <Input\n        onChange={(e) => handleNewNumberChange(e)}\n        value={newNumber}\n        placeholder=\"Number\"\n      />\n    </div>\n    <div>\n      <Button type=\"submit\">Submit</Button>\n    </div>\n  </form>\n);\n\nexport default Form;\n","import React from \"react\";\nimport Button from \"./components/Button\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  height: 300px;\n  overflow-y: scroll;\n  width: 100%;\n`;\n\nconst TableWrapper = styled.table`\n  width: 100%;\n`;\n\nconst TableCell = styled.td`\n  font-size: 17px;\n  text-align: center;\n  text-transform: capitalize;\n\n  &:first-of-type {\n    text-align: left;\n  }\n`;\n\nconst TableHead = styled.th`\n  padding: 15px 0;\n  font: 700 22px/22px helvetica;\n\n  &:first-of-type {\n    text-align: left;\n  }\n`;\n\nconst Person = ({ name, number, handleDelete }) => (\n  <tr>\n    <TableCell>{name}</TableCell>\n    <TableCell>{number}</TableCell>\n    <TableCell>\n      <Button\n        secondary\n        onClick={(e) => {\n          e.preventDefault();\n          handleDelete(name);\n        }}\n      >\n        Delete\n      </Button>\n    </TableCell>\n  </tr>\n);\n\nconst Table = ({ persons, handleDelete }) => (\n  <Wrapper>\n    <TableWrapper>\n      <thead>\n        <tr>\n          <TableHead>Name</TableHead>\n          <TableHead>Number</TableHead>\n          <TableHead>Delete?</TableHead>\n        </tr>\n      </thead>\n      <tbody>\n        {persons.map(({ name, number }) => (\n          <Person\n            name={name}\n            number={number}\n            key={number + name}\n            handleDelete={handleDelete}\n          />\n        ))}\n      </tbody>\n    </TableWrapper>\n  </Wrapper>\n);\n\nexport default Table;\n","import axios from \"axios\";\nconst baseUrl = \"/api/people\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  //   console.log(id);\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  border: 1px solid paleviolet;\n  background: paleviolet;\n  color: white;\n  font-size: 22px;\n  line-height: 28px;\n  text-align: center;\n`;\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <Wrapper>{message}</Wrapper>;\n};\n\nexport default Notification;\n","// returns window width and height\n\nimport React, { useState, useEffect } from \"react\";\n\nexport function useWindowDimension() {\n  const [dimension, setDimension] = useState([\n    window.innerWidth,\n    window.innerHeight,\n  ]);\n  useEffect(() => {\n    const debouncedResizeHandler = debounce(() => {\n      setDimension([window.innerWidth, window.innerHeight]);\n    }, 100);\n    window.addEventListener(\"resize\", debouncedResizeHandler);\n    return () => window.removeEventListener(\"resize\", debouncedResizeHandler);\n  }, []);\n  return dimension;\n}\n\nfunction debounce(fn, ms) {\n  let timer;\n  return (_) => {\n    clearTimeout(timer);\n    timer = setTimeout((_) => {\n      timer = null;\n      fn.apply(this, arguments);\n    }, ms);\n  };\n}\n","import styled from \"styled-components\";\nimport React, { useEffect, useState } from \"react\";\n\nconst Image = styled.div`\n  overflow: hidden;\n  width: 100vw;\n  height: 100vh;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: url(\"${(props) => props.url}\") no-repeat center/cover;\n  z-index: -1;\n`;\n\nconst Background = ({ url }) => <Image url={url} />;\n\nexport default Background;\n","import styled from \"styled-components\";\nimport React, { useEffect, useState } from \"react\";\nimport Form from \"./Form\";\nimport Table from \"./Table\";\nimport personService from \"./services/persons\";\nimport Input from \"./components/Input\";\nimport Notification from \"./Notification\";\nimport { useWindowDimension } from \"./useWindowDimensions\";\nimport Background from \"./Background\";\n\nfunction getRandomImage(windowWidth, windowHeight, setBackgroundImage) {\n  const min = Math.ceil(100);\n  const max = Math.floor(500);\n  const seed = Math.floor(Math.random() * (max - min) + min);\n\n  setBackgroundImage(\n    `https://picsum.photos/seed/${seed}/${windowWidth}/${windowHeight}`\n  );\n}\n\nconst Wrapper = styled.div`\n  max-width: 600px;\n  margin: 0 auto;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 25px 50px;\n  box-sizing: border-box;\n  background: #333;\n  color: #f7f7f7;\n`;\n\nconst Heading = styled.h2`\n  font: 700 36px/42px helvetica;\n  margin-bottom: 0.5rem;\n`;\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [windowWidth, windowHeight] = useWindowDimension();\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setNewSearch] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [backgroundImage, setBackgroundImage] = useState();\n\n  useEffect(() => {\n    personService.getAll().then((people) => {\n      getRandomImage(windowWidth, windowHeight, setBackgroundImage);\n      setPersons(people);\n    });\n  }, [windowWidth, windowHeight]);\n\n  const setNotification = (message) => {\n    setErrorMessage(message);\n\n    setTimeout(() => {\n      setErrorMessage(\"\");\n    }, 5000);\n  };\n\n  const addPerson = () => {\n    const newPerson = { name: newName, number: newNumber };\n\n    personService\n      .create(newPerson)\n      .then((person) => {\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setPersons(persons.concat(person));\n        setNotification(`${person.name} added!`);\n      })\n      .catch((error) => {\n        setNotification(error.response.data.error);\n      });\n  };\n\n  const updatePerson = (match) => {\n    const result = window.confirm(\n      `${newName} is already in the phonebook - do you want to update number from ${match.number} to ${newNumber}?`\n    );\n\n    if (result) {\n      const updatedPerson = { ...match, number: newNumber };\n\n      personService\n        .update(match.id, updatedPerson)\n        .then((returnedPerson) => {\n          setNotification(`${returnedPerson.name} updated!`);\n\n          setPersons(\n            persons.map((person) =>\n              person.id !== match.id ? person : returnedPerson\n            )\n          );\n        })\n        .catch((error) => {\n          setNotification(error.response.data.error);\n        });\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // no blanks\n    if (newName === \"\") return;\n\n    // get matches\n    const match = persons.find((p) => p.name === newName);\n\n    // no match, create else update\n    !match ? addPerson() : updatePerson(match);\n  };\n\n  const handleDelete = (name) => {\n    const result = window.confirm(`Are you sure you want to delete ${name}?`);\n\n    if (result) {\n      const personToBeDeleted = persons.find((p) => p.name === name);\n\n      if (personToBeDeleted) {\n        personService\n          .remove(personToBeDeleted.id)\n          .then((id) => {\n            setPersons(persons.filter((p) => p.id !== personToBeDeleted.id));\n            setNotification(`${personToBeDeleted.name} deleted!`);\n          })\n          .catch((error) => {\n            setNotification(\n              `${personToBeDeleted.name} has already been removed from the server!`\n            );\n            setPersons(persons.filter((p) => p.id !== personToBeDeleted.id));\n          });\n      }\n    }\n  };\n\n  const handleNewNameChange = ({ target }) => setNewName(target.value);\n  const handleNewNumberChange = ({ target }) => setNewNumber(target.value);\n  const handleNewSearch = ({ target }) => setNewSearch(target.value);\n\n  const peopleToShow =\n    search === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLocaleLowerCase().includes(search.toLocaleLowerCase())\n        );\n\n  return (\n    <Wrapper>\n      <Background url={backgroundImage} />\n      <Notification message={errorMessage} />\n      <Heading>Search</Heading>\n      <Input onChange={(e) => handleNewSearch(e)} value={search} />\n      <Heading>Add Person</Heading>\n      <Form\n        handleSubmit={handleSubmit}\n        handleNewNameChange={handleNewNameChange}\n        handleNewNumberChange={handleNewNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Heading>People</Heading>\n      {!peopleToShow.length && search.length ? (\n        <p>No results...</p>\n      ) : (\n        <Table persons={peopleToShow} handleDelete={handleDelete} />\n      )}\n    </Wrapper>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}