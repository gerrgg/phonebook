(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{50:function(n,e,t){"use strict";t.r(e);var r,c,a,o,i,u,d,l,s=t(0),b=t(23),f=t.n(b),h=t(12),j=t(5),p=t(2),x=t(3),m=x.a.input.attrs((function(n){return{type:"text",size:n.size||"1em"}}))(r||(r=Object(p.a)(["\n  width: 100%;\n  border: 1px solid #fff;\n  background: transparent;\n  padding: 12px 20px;\n  font-size: 17px;\n  color: #f7f7f7;\n  box-sizing: border-box;\n  margin-bottom: 1rem;\n"]))),O=x.a.button(c||(c=Object(p.a)(["\n  padding: 12px 18px;\n  box-sizing: border-box;\n  background: ",";\n  color: ",";\n  font-size: 17px;\n  border: 1px solid #00ff93;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"])),(function(n){return n.secondary?"#333":"#00ff93"}),(function(n){return n.secondary?"#00ff93":"#333"}),(function(n){return n.secondary?"#00ff93":"#333"}),(function(n){return n.secondary?"#333":"#00ff93"})),v=t(1),g=function(n){var e=n.handleSubmit,t=n.handleNewNameChange,r=n.handleNewNumberChange,c=n.newName,a=n.newNumber;return Object(v.jsxs)("form",{onSubmit:function(n){return e(n)},children:[Object(v.jsx)("div",{children:Object(v.jsx)(m,{onChange:function(n){return t(n)},value:c,placeholder:"Name"})}),Object(v.jsx)("div",{children:Object(v.jsx)(m,{onChange:function(n){return r(n)},value:a,placeholder:"Number"})}),Object(v.jsx)("div",{children:Object(v.jsx)(O,{type:"submit",children:"Submit"})})]})},w=x.a.div(a||(a=Object(p.a)(["\n  height: 300px;\n  overflow-y: scroll;\n  width: 100%;\n"]))),y=x.a.table(o||(o=Object(p.a)(["\n  width: 100%;\n"]))),N=x.a.td(i||(i=Object(p.a)(["\n  font-size: 17px;\n  text-align: center;\n  text-transform: capitalize;\n\n  &:first-of-type {\n    text-align: left;\n  }\n"]))),z=x.a.th(u||(u=Object(p.a)(["\n  padding: 15px 0;\n  font: 700 22px/22px helvetica;\n\n  &:first-of-type {\n    text-align: left;\n  }\n"]))),k=function(n){var e=n.name,t=n.number,r=n.handleDelete;return Object(v.jsxs)("tr",{children:[Object(v.jsx)(N,{children:e}),Object(v.jsx)(N,{children:t}),Object(v.jsx)(N,{children:Object(v.jsx)(O,{secondary:!0,onClick:function(n){n.preventDefault(),r(e)},children:"Delete"})})]})},S=function(n){var e=n.persons,t=n.handleDelete;return Object(v.jsx)(w,{children:Object(v.jsxs)(y,{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)(z,{children:"Name"}),Object(v.jsx)(z,{children:"Number"}),Object(v.jsx)(z,{children:"Delete?"})]})}),Object(v.jsx)("tbody",{children:e.map((function(n){var e=n.name,r=n.number;return Object(v.jsx)(k,{name:e,number:r,handleDelete:t},r+e)}))})]})})},C=t(6),D=t.n(C),L="/api/people",E=function(){return D.a.get(L).then((function(n){return n.data}))},M=function(n){return D.a.post(L,n).then((function(n){return n.data}))},T=function(n,e){return D.a.put("".concat(L,"/").concat(n),e).then((function(n){return n.data}))},A=function(n){return D.a.delete("".concat(L,"/").concat(n)).then((function(n){return n.data}))},H=x.a.div(d||(d=Object(p.a)(["\n  border: 1px solid paleviolet;\n  background: paleviolet;\n  color: white;\n  font-size: 22px;\n  line-height: 28px;\n  text-align: center;\n"]))),J=function(n){var e=n.message;return null===e?null:Object(v.jsx)(H,{children:e})};function P(){var n=Object(s.useState)([window.innerWidth,window.innerHeight]),e=Object(j.a)(n,2),t=e[0],r=e[1];return Object(s.useEffect)((function(){var n=function(n,e){var t,r=arguments,c=this;return function(a){clearTimeout(t),t=setTimeout((function(e){t=null,n.apply(c,r)}),e)}}((function(){r([window.innerWidth,window.innerHeight])}),100);return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),t}var W,B,I=x.a.div(l||(l=Object(p.a)(['\n  overflow: hidden;\n  width: 100vw;\n  height: 100vh;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: url("','") no-repeat center/cover;\n  z-index: -1;\n'])),(function(n){return n.url})),q=function(n){var e=n.url;return Object(v.jsx)(I,{url:e})};var F=x.a.div(W||(W=Object(p.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 25px 50px;\n  box-sizing: border-box;\n  background: #333;\n  color: #f7f7f7;\n"]))),G=x.a.h2(B||(B=Object(p.a)(["\n  font: 700 36px/42px helvetica;\n  margin-bottom: 0.5rem;\n"]))),K=function(){var n=Object(s.useState)([]),e=Object(j.a)(n,2),t=e[0],r=e[1],c=P(),a=Object(j.a)(c,2),o=a[0],i=a[1],u=Object(s.useState)(""),d=Object(j.a)(u,2),l=d[0],b=d[1],f=Object(s.useState)(""),p=Object(j.a)(f,2),x=p[0],O=p[1],w=Object(s.useState)(""),y=Object(j.a)(w,2),N=y[0],z=y[1],k=Object(s.useState)(null),C=Object(j.a)(k,2),D=C[0],L=C[1],H=Object(s.useState)(),W=Object(j.a)(H,2),B=W[0],I=W[1];Object(s.useEffect)((function(){E().then((function(n){!function(n,e,t){var r=Math.ceil(100),c=Math.floor(500),a=Math.floor(Math.random()*(c-r)+r);t("https://picsum.photos/seed/".concat(a,"/").concat(n,"/").concat(e))}(o,i,I),r(n)}))}),[o,i]);var K=function(n){L(n),setTimeout((function(){L("")}),5e3)},Q=""===N?t:t.filter((function(n){return n.name.toLocaleLowerCase().includes(N.toLocaleLowerCase())}));return Object(v.jsxs)(F,{children:[Object(v.jsx)(q,{url:B}),Object(v.jsx)(J,{message:D}),Object(v.jsx)(G,{children:"Search"}),Object(v.jsx)(m,{onChange:function(n){return function(n){var e=n.target;return z(e.value)}(n)},value:N}),Object(v.jsx)(G,{children:"Add Person"}),Object(v.jsx)(g,{handleSubmit:function(n){if(n.preventDefault(),""!==l){var e=t.find((function(n){return n.name===l}));e?function(n){if(window.confirm("".concat(l," is already in the phonebook - do you want to update number from ").concat(n.number," to ").concat(x,"?"))){var e=Object(h.a)(Object(h.a)({},n),{},{number:x});T(n.id,e).then((function(e){K("".concat(e.name," updated!")),r(t.map((function(t){return t.id!==n.id?t:e})))})).catch((function(n){K(n.response.data.error)}))}}(e):M({name:l,number:x}).then((function(n){b(""),O(""),r(t.concat(n)),K("".concat(n.name," added!"))})).catch((function(n){K(n.response.data.error)}))}},handleNewNameChange:function(n){var e=n.target;return b(e.value)},handleNewNumberChange:function(n){var e=n.target;return O(e.value)},newName:l,newNumber:x}),Object(v.jsx)(G,{children:"People"}),!Q.length&&N.length?Object(v.jsx)("p",{children:"No results..."}):Object(v.jsx)(S,{persons:Q,handleDelete:function(n){if(window.confirm("Are you sure you want to delete ".concat(n,"?"))){var e=t.find((function(e){return e.name===n}));e&&A(e.id).then((function(n){r(t.filter((function(n){return n.id!==e.id}))),K("".concat(e.name," deleted!"))})).catch((function(n){K("".concat(e.name," has already been removed from the server!")),r(t.filter((function(n){return n.id!==e.id})))}))}}})]})};f.a.render(Object(v.jsx)(K,{}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.4e0cd6bb.chunk.js.map