{"version":3,"sources":["components/Input.js","components/Button.js","Form.js","Table.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Input","styled","input","attrs","props","type","size","Button","button","secondary","Form","handleSubmit","handleNewNameChange","handleNewNumberChange","newName","newNumber","onSubmit","e","onChange","value","placeholder","TableWrapper","table","TableCell","td","TableHead","th","Person","name","number","handleDelete","onClick","preventDefault","Table","persons","map","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Wrapper","div","Notification","message","Heading","h2","App","useState","setPersons","setNewName","setNewNumber","search","setNewSearch","errorMessage","setErrorMessage","useEffect","personService","people","setNotification","setTimeout","peopleToShow","filter","person","toLocaleLowerCase","includes","target","handleNewSearch","match","find","p","window","confirm","updatedPerson","returnedPerson","updatePerson","concat","length","personToBeDeleted","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a0475322.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst Input = styled.input.attrs((props) => ({\n  type: \"text\",\n  size: props.size || \"1em\",\n}))`\n  width: 100%;\n  border: 1px solid #fff;\n  background: transparent;\n  padding: 12px 20px;\n  font-size: 17px;\n  color: #f7f7f7;\n  box-sizing: border-box;\n  margin-bottom: 1rem;\n`;\n\nexport default Input;\n","import styled from \"styled-components\";\n\nconst Button = styled.button`\n  padding: 12px 18px;\n  box-sizing: border-box;\n  background: ${(props) => (props.secondary ? \"#333\" : \"#00ff93\")};\n  color: ${(props) => (props.secondary ? \"#00ff93\" : \"#333\")};\n  font-size: 17px;\n  border: 1px solid #00ff93;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    background: ${(props) => (props.secondary ? \"#00ff93\" : \"#333\")};\n    color: ${(props) => (props.secondary ? \"#333\" : \"#00ff93\")};\n  }\n`;\n\nexport default Button;\n","import React, { useState } from \"react\";\nimport Input from \"./components/Input\";\nimport Button from \"./components/Button\";\n\nconst Form = ({\n  handleSubmit,\n  handleNewNameChange,\n  handleNewNumberChange,\n  newName,\n  newNumber,\n}) => (\n  <form onSubmit={(e) => handleSubmit(e)}>\n    <div>\n      <Input\n        onChange={(e) => handleNewNameChange(e)}\n        value={newName}\n        placeholder=\"Name\"\n      />\n    </div>\n    <div>\n      <Input\n        onChange={(e) => handleNewNumberChange(e)}\n        value={newNumber}\n        placeholder=\"Number\"\n      />\n    </div>\n    <div>\n      <Button type=\"submit\">Submit</Button>\n    </div>\n  </form>\n);\n\nexport default Form;\n","import React from \"react\";\nimport Button from \"./components/Button\";\nimport styled from \"styled-components\";\n\nconst TableWrapper = styled.table`\n  width: 100%;\n  max-height: 300px;\n  overflow-y: scroll;\n`;\n\nconst TableCell = styled.td`\n  font-size: 17px;\n  text-align: center;\n  text-transform: capitalize;\n\n  &:first-of-type {\n    text-align: left;\n  }\n`;\n\nconst TableHead = styled.th`\n  padding: 15px 0;\n  font: 700 22px/22px helvetica;\n\n  &:first-of-type {\n    text-align: left;\n  }\n`;\n\nconst Person = ({ name, number, handleDelete }) => (\n  <tr>\n    <TableCell>{name}</TableCell>\n    <TableCell>{number}</TableCell>\n    <TableCell>\n      <Button\n        secondary\n        onClick={(e) => {\n          e.preventDefault();\n          handleDelete(name);\n        }}\n      >\n        Delete\n      </Button>\n    </TableCell>\n  </tr>\n);\n\nconst Table = ({ persons, handleDelete }) => (\n  <TableWrapper>\n    <thead>\n      <tr>\n        <TableHead>Name</TableHead>\n        <TableHead>Number</TableHead>\n        <TableHead>Delete?</TableHead>\n      </tr>\n    </thead>\n    <tbody>\n      {persons.map(({ name, number }) => (\n        <Person\n          name={name}\n          number={number}\n          key={number + name}\n          handleDelete={handleDelete}\n        />\n      ))}\n    </tbody>\n  </TableWrapper>\n);\n\nexport default Table;\n","import axios from \"axios\";\nconst baseUrl = \"/api/people\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  //   console.log(id);\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  border: 1px solid paleviolet;\n  background: paleviolet;\n  color: white;\n  font-size: 22px;\n  line-height: 28px;\n  text-align: center;\n`;\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <Wrapper>{message}</Wrapper>;\n};\n\nexport default Notification;\n","import styled from \"styled-components\";\nimport React, { useEffect, useState } from \"react\";\nimport Form from \"./Form\";\nimport Table from \"./Table\";\nimport personService from \"./services/persons\";\nimport Input from \"./components/Input\";\nimport Notification from \"./Notification\";\n\nconst Wrapper = styled.div`\n  max-width: 600px;\n  margin: 0 auto;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 25px 50px;\n  box-sizing: border-box;\n  background: #333;\n  color: #f7f7f7;\n`;\n\nconst Heading = styled.h2`\n  font: 700 36px/42px helvetica;\n  margin-bottom: 0.5rem;\n`;\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setNewSearch] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((people) => {\n      setPersons(people);\n    });\n  }, []);\n\n  const setNotification = (message) => {\n    setErrorMessage(message);\n\n    setTimeout(() => {\n      setErrorMessage(\"\");\n    }, 5000);\n  };\n\n  const addPerson = () => {\n    const newPerson = { name: newName, number: newNumber };\n\n    personService.create(newPerson).then((person) => {\n      setPersons(persons.concat(person));\n      setNotification(`${person.name} added!`);\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  const updatePerson = (match) => {\n    const result = window.confirm(\n      `${newName} is already in the phonebook - do you want to update number from ${match.number} to ${newNumber}?`\n    );\n\n    if (result) {\n      const updatedPerson = { ...match, number: newNumber };\n\n      personService.update(match.id, updatedPerson).then((returnedPerson) => {\n        setNotification(`${returnedPerson.name} updated!`);\n\n        setPersons(\n          persons.map((person) =>\n            person.id !== match.id ? person : returnedPerson\n          )\n        );\n      });\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // no blanks\n    if (newName === \"\") return;\n\n    // get matches\n    const match = persons.find((p) => p.name === newName);\n\n    // no match, create else update\n    !match ? addPerson() : updatePerson(match);\n  };\n\n  const handleDelete = (name) => {\n    const result = window.confirm(`Are you sure you want to delete ${name}?`);\n\n    if (result) {\n      const personToBeDeleted = persons.find((p) => p.name === name);\n\n      if (personToBeDeleted) {\n        personService\n          .remove(personToBeDeleted.id)\n          .then((id) => {\n            setPersons(persons.filter((p) => p.id !== personToBeDeleted.id));\n            setNotification(`${personToBeDeleted.name} deleted!`);\n          })\n          .catch((error) => {\n            setNotification(\n              `${personToBeDeleted.name} has already been removed from the server!`\n            );\n            setPersons(persons.filter((p) => p.id !== personToBeDeleted.id));\n          });\n      }\n    }\n  };\n\n  const handleNewNameChange = ({ target }) => setNewName(target.value);\n  const handleNewNumberChange = ({ target }) => setNewNumber(target.value);\n  const handleNewSearch = ({ target }) => setNewSearch(target.value);\n\n  const peopleToShow =\n    search === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLocaleLowerCase().includes(search.toLocaleLowerCase())\n        );\n\n  return (\n    <Wrapper>\n      <Notification message={errorMessage} />\n      <Heading>Search</Heading>\n      <Input onChange={(e) => handleNewSearch(e)} value={search} />\n      <Heading>Add Person</Heading>\n      <Form\n        handleSubmit={handleSubmit}\n        handleNewNameChange={handleNewNameChange}\n        handleNewNumberChange={handleNewNumberChange}\n      />\n      <Heading>People</Heading>\n      {!peopleToShow.length && search.length ? (\n        <p>No results...</p>\n      ) : (\n        <Table persons={peopleToShow} handleDelete={handleDelete} />\n      )}\n    </Wrapper>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}